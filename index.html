<!doctypehtml><html><head><meta charset=utf-8><meta content="width=device-width,initial-scale=1"name=viewport><title>MPViewer</title><link href=styles.css rel=stylesheet><script src="https://www.googletagmanager.com/gtag/js?id=G-N61Y93R2TJ"async></script><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-N61Y93R2TJ")</script><script>let games={},names={};console.info("You can drag and drop .wav file into the viewport to perform automatic lip synchronization! WAV files should only contain voice data for best results. If you drop a .mp3 file first and then drop a .wav file of the same name then only MP3 sound will be played (this way you can play music without it being processed for lipsync)")</script><script src=HDNEP.js></script><script src=N123U.js></script><script src=HNGBH.js></script><script src=MNVII.js></script><script src=MTBNZ.js></script><script src=SNSHG.js></script><script src=DALRU.js></script><script src=DALAI.js></script><script src=DALRD.js></script><script src=FFADF.js></script></head><body class=""><div class="md:text-base relative text-xs w-full"><canvas class="bg-gray-500 border-0 h-screen w-screen"id=canvas tabindex=-1></canvas><div class="h-full absolute top-0 left-0 backdrop-blur-lg bg-opacity-80 bg-white w-1/4"><div class="h-full flex flex-col p-4"><div><label class="block text-gray-900 mb-2">Select model</label><div class="block text-gray-900 bg-gray-50 border border-gray-300 cursor-pointer hover:bg-gray-300 p-2.5 rounded-lg select-none text-sm w-full"id=select_button onclick=showModal(event)><div class=text-gray-500>. . .</div></div></div><div class=my-2><label class="block text-gray-900 mb-2">Texture</label><div class="flex flex-row grow"id=texture_selector><div class="bg-white border border-gray-300 select-none grow py-2 text-center first:rounded-l-lg last:rounded-r-lg"><div class=text-gray-500>0</div></div></div></div><div class="flex align-middle flex-col items-left mb-2 md:flex-row md:items-center"><label class="block text-gray-900 mr-2">Animation</label><div class="bg-white border border-gray-300 select-none align-middle cursor-pointer flex flex-row hover:bg-gray-300 items-center px-2 py-1 rounded-lg"id=select_loop onclick=toggleLoop(1)><svg class="h-4 w-4 stroke-gray-500"fill=none id=loop_unchecked viewBox="0 0 24 24"xmlns=http://www.w3.org/2000/svg stroke=currentColor stroke-width=1.5><path d="M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"stroke-linecap=round stroke-linejoin=round /></svg><svg class="h-4 w-4 fill-gray-500 hidden"fill=currentColor id=loop_checked viewBox="0 0 24 24"xmlns=http://www.w3.org/2000/svg><path d="M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12zm13.36-1.814a.75.75 0 10-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 00-1.06 1.06l2.25 2.25a.75.75 0 001.14-.094l3.75-5.25z"clip-rule=evenodd fill-rule=evenodd /></svg><div class=pl-1>Loop</div></div></div><div class="h-full overflow-y-auto rounded-lg"><div class=""><div class=""id=animation_selector><div class="bg-white border border-gray-300 select-none grow py-2 text-center first:rounded-t-lg last:rounded-b-lg text-gray-500">Animation</div></div></div></div></div></div><div class="h-full absolute top-0 left-0 bg-black bg-opacity-50 hidden w-full"id=dimmer onclick=hideModal()></div><div class="absolute backdrop-blur-lg bg-opacity-80 bg-gray-300 h-5/6 hidden inset-0 m-auto rounded-xl w-5/6"id=select_modal><div class="h-full absolute top-0 left-0 lg:w-1/4 overflow-y-auto rounded-l-xl w-1/6"id=game_selector></div><div class="h-full absolute top-0 bg-white left-[16.666667%] lg:left-1/4 lg:w-3/4 overflow-y-auto rounded-r-xl w-5/6"><div class="gap-4 grid grid-cols-2 grid-flow-row-dense lg:grid-cols-6 md:grid-cols-3 p-4"id=model_selector></div></div></div></div><script>function updateFPS(e){}var Module={print:function(e){console.log(e)},canvas:document.getElementById("canvas")};function writeFile(e,n){let t=new Uint8Array(n),l=FS.open(e,"w+");FS.write(l,t,0,t.length,0),FS.close(l)}function load(e){let n=lengthBytesUTF8(e)+1,t=_malloc(n);stringToUTF8Array(e,HEAP8,t,n);let l=_load(t);return _free(t),l}</script><script>const asset_dir="MPData/",game_selector=document.getElementById("game_selector"),model_selector=document.getElementById("model_selector"),select_modal=document.getElementById("select_modal"),select_button=document.getElementById("select_button"),dimmer=document.getElementById("dimmer"),texture_selector=document.getElementById("texture_selector"),animation_selector=document.getElementById("animation_selector"),select_loop=document.getElementById("select_loop"),loop_unchecked=document.getElementById("loop_unchecked"),loop_checked=document.getElementById("loop_checked");let url_prefix=window.location.origin,files_needed=[],model_file="",model_name="",mouse_x=0,mouse_y=0;function fileName(e){return e.split(/(\\|\/)/g).pop()}function fillModels(e){let t="";for(const[o,l]of Object.entries(games[e]))t+='\n\t\t\t\t\t<div onclick=loadModel("'+e+'","'+encodeURI(o)+'") class="select-none flex flex-col items-center border-gray-200 border-2 cursor-pointer rounded-xl hover:bg-gray-200">\n\t\t\t\t\t\t<img src="MPData/'+l[0].replace(".mp","_thumbnail.png")+'" class="w-14 h-14 rounded-lg object-contain"/>\n\t\t\t\t\t\t<div class="text-xs justify-center p-2">\n\t\t\t\t\t\t\t'+o+"\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t";return t}function fillTextures(e){texture_selector.innerHTML="";for(let t=0;t<e;t++)texture_selector.innerHTML+="\n\t\t\t\t\t<div onclick=_setTexture("+t+') class="py-2 bg-white grow text-center first:rounded-l-lg select-none cursor-pointer hover:bg-gray-300 last:rounded-r-lg border border-gray-300">\n\t\t\t\t\t\t'+t+"\n\t\t\t\t\t</div>\n\t\t\t\t"}function fillAnimations(e){animation_selector.innerHTML="";for(let t=-1;t<e;t++){let e="\n\t\t\t\t\t<div onclick=_setAnimation("+t+') class="py-2 bg-white cursor-pointer hover:bg-gray-300 grow text-center first:rounded-t-lg select-none last:rounded-b-lg border border-gray-300">\n\t\t\t\t';e+=-1==t?"Default Animation":"Animation "+t,e+="</div>",animation_selector.innerHTML+=e}}function toggleLoop(e){e?(loop_checked.classList.remove("hidden"),loop_unchecked.classList.add("hidden")):(loop_checked.classList.add("hidden"),loop_unchecked.classList.remove("hidden")),select_loop.setAttribute("onclick","toggleLoop("+!e+")"),_setLoop(e)}function selectGame(e){document.querySelectorAll(".game_selector").forEach((t=>{t.id==e?(t.classList.add("bg-white"),t.classList.remove("cursor-pointer"),t.classList.remove("hover:bg-gray-200")):(t.classList.add("cursor-pointer"),t.classList.add("hover:bg-gray-200"),t.classList.remove("bg-white"))})),model_selector.innerHTML=model_selection[e]}function refreshMouse(){let e=new MouseEvent("mousemove",{view:window,bubbles:!0,cancelable:!0,clientX:mouse_x,clientY:mouse_y});Module.canvas.dispatchEvent(e)}function hideModal(){select_modal.classList.add("hidden"),dimmer.classList.add("hidden"),refreshMouse()}function showModal(e){e.preventDefault(),select_modal.classList.remove("hidden"),dimmer.classList.remove("hidden")}function loadModel(e,t){select_modal.classList.add("hidden"),t=decodeURI(t),files_needed=structuredClone(games[e][t]);for(let e=0;e<files_needed.length;e++)files_needed[e]="MPData/"+files_needed[e];model_file=files_needed[0],model_name=t;for(let e=0;e<files_needed.length;e++)fetch(files_needed[e]).then((e=>{let t=e.url.replace(url_prefix,"");e.ok?(console.log("Downloaded: "+t),e.arrayBuffer().then((e=>{writeFile(fileName(t),e),files_needed.splice(files_needed.indexOf(t),1),0==files_needed.length&&(load(fileName(model_file))&&(select_button.innerHTML=model_name,fillTextures(_getTextureCount()),toggleLoop(_getDefaultLoop()),fillAnimations(_getAnimationCount())),dimmer.classList.add("hidden"),refreshMouse())}))):console.log("Failed to download "+t)})).catch((e=>{console.error("Fetch error:",e)}))}document.onmousemove=e=>{mouse_x=e.clientX,mouse_y=e.clientY};let model_selection={};for(const[e,t]of Object.entries(names))game_selector.innerHTML+='\n\t\t\t<div id="'+e+'" onclick=selectGame("'+e+'") class="flex flew-rol cursor-pointer w-full rounded-l-xl hover:bg-gray-200 game_selector">\n\t\t\t\t<div class="p-3 flex items-center select-none mx-auto lg:mx-0">\n\t\t\t\t\t<img src="'+e+'.png" class="w-10 h-10 inline rounded-lg object-contain"/>\n\t\t\t\t\t<div class="font-semibold text-sm ml-2 select-none hidden lg:block">\n\t\t\t\t\t\t'+t+"\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t",model_selection[e]=fillModels(e)</script><script src=main.js async></script></body></html>